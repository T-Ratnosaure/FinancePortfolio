# FinancePortfolio Environment Configuration Template
# Copy this file to .env and fill in your actual values
# NEVER commit the .env file to version control

# ==============================================================================
# API KEYS & CREDENTIALS (REQUIRED)
# ==============================================================================

# FRED API Key (Federal Reserve Economic Data)
# Get a free API key at: https://fred.stlouisfed.org/docs/api/api_key.html
# Required for fetching macroeconomic indicators (VIX, treasury yields, spreads)
FRED_API_KEY=your_fred_api_key_here

# ==============================================================================
# API KEYS & CREDENTIALS (OPTIONAL)
# ==============================================================================

# Anthropic API Key (for LLM features - if implemented)
# Get your API key at: https://console.anthropic.com/
# Format: sk-ant-api03-xxxxx
# Optional: Only needed if using Claude-powered features
ANTHROPIC_API_KEY=

# Yahoo Finance API Key (optional - yfinance works without key)
# Only needed if you want rate limit increases or premium features
YAHOO_FINANCE_API_KEY=

# ==============================================================================
# LOGGING CONFIGURATION
# ==============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
# Default: INFO
LOG_LEVEL=INFO

# Log format: console (colored output) or json (structured logging)
# console: Human-readable colored output for development
# json: Machine-readable JSON for production/log aggregation
# Default: console
LOG_FORMAT=console

# Log file path (optional)
# If set, logs will be written to this file in addition to console
# File logs always use JSON format with rotation (10MB, 5 backups)
# Default: not set (console only)
# LOG_FILE=./logs/portfolio.log

# ==============================================================================
# DATABASE & STORAGE
# ==============================================================================

# DuckDB database file path
# Where portfolio data, positions, and analytics are stored
# Default: portfolio.duckdb
DUCKDB_FILE=portfolio.duckdb

# Data directory for market data cache
# Default: ./data
DATA_DIR=./data

# ==============================================================================
# PORTFOLIO CONFIGURATION
# ==============================================================================

# Initial cash amount for new portfolios (EUR)
# Default: 10000
INITIAL_CASH=10000

# PEA account type: PEA or PEA_PME
# PEA: Standard Plan d'Epargne en Actions (150k ceiling)
# PEA_PME: PEA for SMEs (225k ceiling)
# Default: PEA
PEA_TYPE=PEA

# ==============================================================================
# RISK LIMITS
# ==============================================================================

# Maximum single position size (as fraction of portfolio)
# Example: 0.40 = 40% maximum in any single ETF
# Default: 0.40
MAX_SINGLE_POSITION=0.40

# Maximum leveraged ETF exposure (as fraction of portfolio)
# Combined exposure to LQQ + CL2 (2x leveraged ETFs)
# Example: 0.30 = 30% maximum in leveraged products
# Default: 0.30
MAX_LEVERAGED_EXPOSURE=0.30

# Minimum cash buffer (as fraction of portfolio)
# Always maintain at least this much in cash
# Example: 0.10 = 10% minimum cash
# Default: 0.10
MIN_CASH_BUFFER=0.10

# ==============================================================================
# MONITORING & ALERTING (OPTIONAL)
# ==============================================================================

# Healthcheck.io URL for monitoring (optional)
# Used for cron job monitoring and uptime tracking
# Format: https://hc-ping.com/your-uuid
HEALTHCHECK_IO_URL=

# Healthcheck UUID (alternative to full URL)
# Just the UUID portion if using healthcheck.io
HEALTHCHECK_UUID=

# Alert email address (optional)
# Where to send portfolio alerts and risk warnings
ALERT_EMAIL=

# ==============================================================================
# EMAIL CONFIGURATION (OPTIONAL - for notifications)
# ==============================================================================

# SMTP server settings for sending email alerts
# Only needed if implementing email notifications

# SMTP server hostname
# PEA_SMTP_SERVER=smtp.gmail.com

# SMTP server port (typically 587 for TLS, 465 for SSL)
# PEA_SMTP_PORT=587

# SMTP username (usually your email address)
# PEA_SMTP_USERNAME=your-email@example.com

# SMTP password or app-specific password
# For Gmail, generate an app password at: https://myaccount.google.com/apppasswords
# PEA_SMTP_PASSWORD=your-app-password

# Use TLS for SMTP connection (true/false)
# PEA_SMTP_TLS=true

# Email address to send from
# PEA_EMAIL_FROM=your-email@example.com

# Email address to send alerts to (can be same as from)
# PEA_EMAIL_TO=your-email@example.com

# ==============================================================================
# MODEL CONFIGURATION (OPTIONAL)
# ==============================================================================

# Path to pre-trained HMM model file (optional)
# If not set, model will be trained on available data
# HMM_MODEL_PATH=./models/hmm_regime.joblib

# ==============================================================================
# CI/CD & TESTING (for GitHub Actions)
# ==============================================================================

# These are set in GitHub Secrets, not in local .env
# Listed here for reference only:
# - ANTHROPIC_API_KEY (for CI tests)
# - FRED_API_KEY (for integration tests)
# - CODECOV_TOKEN (for code coverage reporting)
# - GITHUB_TOKEN (automatically provided by GitHub Actions)

# ==============================================================================
# DEVELOPMENT & DEBUGGING
# ==============================================================================

# Python environment detection
# PYTEST_CURRENT_TEST is automatically set by pytest
# Used internally for path validation during tests

# ==============================================================================
# SECURITY NOTES
# ==============================================================================

# 1. NEVER commit the .env file to version control
#    - .env is already in .gitignore
#    - Accidentally committed secrets should be rotated immediately
#
# 2. Use strong, unique API keys
#    - Rotate keys periodically
#    - Use read-only keys where possible
#
# 3. For production deployments, use proper secrets management:
#    - AWS Secrets Manager
#    - GCP Secret Manager
#    - Azure Key Vault
#    - HashiCorp Vault
#
# 4. File permissions:
#    - Set restrictive permissions: chmod 600 .env
#    - Only the application user should be able to read it
#
# 5. Backup considerations:
#    - Exclude .env from backups that go to untrusted locations
#    - Ensure backup encryption if .env is included

# ==============================================================================
# GETTING STARTED
# ==============================================================================

# Minimal configuration to get started:
# 1. Copy this file: cp .env.example .env
# 2. Get a FRED API key (free): https://fred.stlouisfed.org/docs/api/api_key.html
# 3. Set FRED_API_KEY in .env
# 4. Optionally adjust LOG_LEVEL for debugging
# 5. Run: python main.py fetch --source all --days 30
